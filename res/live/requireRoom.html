<!DOCTYPE html>
<html>
  <head><title>get a room</title></head>
  <script type="text/javascript" src="../common/jQuery/jquery-3.3.1.min.js"> </script>
  <script type="text/javascript" src="../common/wcs_cookies.js"> </script>
  <body>
    <div id="room_form">
      <span>room_name:</span><input type="text" id="name" />
      <br />
      <button type="button" id="submit" onclick="submit()">require</button>
    </div>
    <script type="text/javascript">
      function submit()
      {
        console.log(getCookie("token"));
        $.post("requireRoom", 
          {
            room_name:$("#name").val(),
            token:getCookie("token")
          }
          ).done(onRegSuccess).fail(onRegFail);
      }

      function onRegSuccess(data, status)
      {
        let tip = "<p>require success</p>";
        $("#room_form").html(tip);
      }
      function onRegFail(o, status, errT)
      {
        let tip = "<p>error:" + o.responseText + "</p>";
        $("#room_form").html(tip);
      }
    </script>
  </body>
</html>
